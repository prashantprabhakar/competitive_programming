/**
 * https://leetcode.com/contest/weekly-contest-385/problems/find-the-length-of-the-longest-common-prefix/
 * 3043. Find the Length of the Longest Common Prefix
 */

// @todo: Fix TLE

// TLE
var longestCommonPrefix = function(arr1, arr2) {
    let maxLen = 0; 
    const cache = {};
    for(let i=0; i<arr1.length; i++) {
        for(let j=0; j<arr2.length; j++) {
            let key = arr1[i] < arr2[j] ? `${arr1[i]}_${ arr2[j]}` : `${arr2[j]}_${arr1[i]}`;
            let currentMax = cache[key] !== undefined ? cache[key] : findCommonPrefix(arr1[i], arr2[j]);
            maxLen = Math.max(maxLen, currentMax);
            cache[key] = maxLen
        }
    }
    return maxLen
};

// TLE
var longestCommonPrefix2 = function(arr1, arr2) {
    let maxLen = 0; 
    const cache = {};
    arr1 = arr1.sort((a, b) => b-a);
    arr2 = arr2.sort((a, b) => b-a);
    for(let i=0; i<arr1.length; i++) {
        for(let j=0; j<arr2.length; j++) {
            let num1 = arr1[i], num2 = arr2[j];
            if(maxLen >= String(num1).length || maxLen >= String(num2).length) {
                break;
            }
            let key = num1 < num2 ? `${num1}_${ num2}` : `${num2}_${num1}`;
            let currentMax = cache[key] !== undefined ? cache[key] : findCommonPrefix(num1, num2);
            maxLen = Math.max(maxLen, currentMax);
            cache[key] = maxLen
        }
    }
   
    return maxLen
};


function findCommonPrefix(num1, num2) {
    if(num1 === num2) return true
    let arr1 = String(num1)
    let arr2 = String(num2)

    
    let count = 0;
    let i =0, j=0;
    while(i<arr1.length && j < arr2.length) {
        if(arr1[i] === arr2[j]) {
            count++;
            i++;
            j++;
        } else {
            break;
        }
    }
    return count;
    
}

// console.log(longestCommonPrefix3([45,46,4,31,26],[4,45,22,34,3]))
// console.log(longestCommonPrefix3([1, 10, 100],[1000]))
// console.log(longestCommonPrefix3([45, 6],[4, 6, 45]))

console.log(longestCommonPrefix2([52163132,58628899,11105729,18190075,43582184,22487968,25723471,39191788,97162604,28705904,66598429,29958316,41817003,42729116,19513553,71296194,16331532,86329007,88130002,56267458,28971952,48900253,26660171,27751058,93368280,98438396,69775197,74095808,88174526,12866197,43118220,51925180,23428026,79716790,33972162,27360232,57423861,16789386,96625857,12749335,65699596,33149831,64791702,83609038,99220539,85677375,77359212,62715832,53938749,25062595,55107562,14311732,65278704,21848196,15136358,86460876,88230506,17388533,53010812,11141902,89938911,75266905,36948622,86994772,16781331,43370933,67123051,48614121,38827401,27622418,31131904,17991101,68247959,24273091,26028571,16109166,95273711,63592267,18405194,25189982,43224599,91621471,56477578,93644304,59955701,44456697,61895509,92669539,13864688,66449142,66073978,23943599,74644825,45648679,66167300,24874824,77959412,55636496,27291505,44296109,85538685,38422268,35245687,73830275,81487732,29484785,43336964,99275117,98341312,69532951,39936746,49120210,86791756,89190458,25576833,82528354,96290124,11537763,91425039,57535415,27214366,57980541,39566081,99924591,47784230,54291544,53655138,28574905,27969633,91367752,89103922,95512312,21166332,78366893,35599208,25069555,15139880,53205375,22843717,34647663,73172500,75708138,77653476,19661841,91569968,92687800,46751402,14925838,92190364,44178883,74471276,24110260,12831112,59297308,42966295,94300882,78369061,67173760,96453632,53719448,78525504,29854684,43949747,93572255,37721582,71947588,38551298,26535838,14815389,33131683,94328277,79076269,96290529,39550428,95237991,32512846,84736888,14211950,57146929,67757283,44499645,12207780,17248237,15824903,58677310,11561412,85233931,44617733,47299526,81766374,16614214,35920558,58025430,53779499,65315244,19170007,75933283,37472565,63090016,28871769,35104215,78033129,83231051,25321246,74539296,87470706,28592214,18904759,32828242,13798327,55228388,57845025,61721684,41269475,73622842,52531794,12910789,97764190,37973972,39363129,59722831,92676439,24666602,13757361,77482947,69953655,43816232,85382964,15412571,91624877,11671124,64184468,61943618,35456118,15861868,77395030,78100215,57617495,81666716,46381391,66566439,86792680,95215219,86008164,11839635,91168613,25529746,85844266,66289478,35789058,75009537,56936387,16437297,99838441,23588836,28337286,31608489,77911340,26130336,16766543,74730954,16300204,75770634,55044183,74923377,13554656,31821937,29682691,98712938,77261503,56844192,96490152,55910162,51317165,73818842,72408337,86582886,85165870,64381641,92562126,46620680,53917824,39895283,69200988,66265446,11292761,39818281,11419893,54354233,68667239,78229434,38783417,14528985,85648352,73282065,17929971,42421914,71267125,73191890,19806080,61566898,16561227,18686098,27686652,25291620,99419931,53164370,81461082,16673051,75578074,31671859,97149122,99706317,13227747,88170385,14033919,65858793,82795569,19717884,27869968,98272177,11133701,59185983,57189820,43406759,49195895,79344330,61198829,59832704,67688266,37650134,43778027,71922323,48783383,44295280,11331116,47758829,56708418,83134795,79212771,99394545,14756875,43759441,52278855,76819715,55639562,82529071,31350890,73946572,83542794,19934870,21019113,64182316,45382368,36542884,72219274,36372199,69887610,11133043,35276006,34487589,56153526,19471368,16730151,16978222,44557845,52012416,42661230,54417293,77296469,72220182,98154586,49304815,17386601,65396094,57304997,46727788,16859627,33152521,67577700,15892516,35607904,45788225,71495800,38603787,57299283,94978331,35659172,99143810,55495291,13087884,64156641,98350603,74981892,76294001,42865993,78741659,49521943,99145232,73485075,63760533,45503914,85812989,92566609,33749861,27847056,31368531,53533695,42336036,16876624,74349074,43407478,86807591,63469135,24614559,55485369,36520259,65337591,97901000,31151231,72051135,52746476,89624868,88737002,47138746,23229674,15743366,38491981,34777036,89507796,51041582,31819399,41756927,65640450,25133392,55326639,41507489,94349275,67145512,26625361,89149926,86964505,32487311,71956199,39548344,98646130,57185779,83213720,34192071,12539863,18611328,97991405,35171383,53132635,61679824,14757306,72945450,37811792,13148599,77833124,14115272,35013664,65199386,28840121,45581829,18808634,31693144,78490593,43668894,82795490,16506130,63340840,34313156,63754265,23942874,39997689,66855615,21282296,27743833,51742733,21570502,16454082,51983350,76653401,48310925,44712198,24796996,13160738,51356930,95210541,23787220,61971263,95223892,51920670,32954084,46081396,31576929,25395631,95308406,11076230],
[22108105,32814359,47400554,43694344,24408377,44896620,27416885,21228326,48606209,99364071,19338548,84965012,13429383,82779079,46814304,22673645,91212906,62433977,15473300,91392995,25274757,77156402,88521024,48216347,61942030,97660235,19745377,66822403,27413509,93497527,25473180,75609769,84137596,75166805,17302093,69614155,28125149,84878698,37602611,13713528,17450798,97216542,23512125,54873596,45852229,96461400,39685652,97212248,43594565,41883128,62967874,27965325,47388811,86164063,53250024,22107189,85538183,95715503,33898399,36722870,32928376,94794241,63682721,21109792,94964663,87772454,42487083,99234535,79275365,44208333,87229491,71189540,37430993,72535494,42806342,27622785,21986117,97544150,13585243,92673413,25436814,84816009,48026856,57521931,34187609,28918585,46309639,31193229,46966141,79803825,13492243,53576974,11420874,28375365,65573256,89797931,77722690,24309631,64073682,53518178,62369946,87383859,28282833,47155495,81577046,23601633,76553833,84359272,67127230,33849836,49496300,83136726,31100572,26237249,46407671,94551855,62275236,46390988,71128868,28572211,56230660,11257427,41183695,94683796,56892266,96773356,93859852,49737281,38827524,61244743,16730502,69781323,64732797,93246570,41883095,81445653,95722770,51793817,95307231,85136572,85713263,17514068,41469116,56919138,62891929,56297307,88664526,36217293,98380792,19980022,36238047,26159552,18249052,39766956,23744733,92378722,98896894,94446499,45279702,58759252,23152022,43621180,86884002,87349466,26196685,58621561,95681320,52803652,66752493,26977536,12543677,38606842,57253139,54631300,95808048,95515891,54306033,98271466,52582242,72599290,98112443,97595418,43091812,62592162,71383075,33554402,66441811,59619391,17727589,62250242,99591262,76376260,45597950,29780817,65752410,99245954,97947767,82265661,11953324,56135287,62330569,65647083,82983730,54688597,16689386,93114345,58163346,11713881,14516213,35791848,16224549,35400228,51448388,45420379,99135369,64886242,38567532,29296614,46007647,51050981,13128357,74564059,47262911,34479458,66797664,53788872,93368965,98649124,43949645,92144991,54393698,78790355,45669793,19971745,83571833,56436558,72852157,21968143,88368203,31965880,72571806,19672424,74816800,64477086,22800607,14904555,34496618,71133037,64107241,67575887,27207955,66789375,35843721,55571378,36645328,74174141,57883129,28204643,77062588,33842286,83397052,78886680,47886246,14780662,12341343,55234345,26226023,56479585,63752766,28165919,32498932,65231062,32944297,29405014,99215631,13135089,25160048,29279887,46404680,33386106,66665025,45257674,34589080,84491115,55734487,88208511,51449440,17161099,48477546,26548657,92538685,46185423,94428609,21853753,84309103,26308771,44946765,74734203,63866207,25893750,67873316,52334187,47184542,26746644,91668530,49324524,59927747,89551590,78327571,57339975,57626569,33315664,11084550,59272920,33184261,37772179,62885747,59785313,31711730,97919490,81179059,86386518,17635487,75332673,51416394,19141635,58675227,41106566,91534873,12792661,34230988,24420202,26683689,24815914,62985889,16369574,81797825,51514791,48518497,86916004,61538936,38059030,38694755,25283778,98194022,92678707,61644619,32264347,24119320,56508969,74533008,55083565,68847593,52410802,68120604,54583943,48587445,87822133,93128403,31638942,65119072,38166300,71718803,44905812,83571745,63896995,19230175,99083535,78976379,92983776,41259007,93335440,15658850,26173694,77540018,92390211,13275691,26586964,72952572,31816887,41957036,69331398,87457712,58537113,91985219,74093375,75369061,35440633,81734478,39378117,52896016,35859421,26217661,51441227,71220018,31155896,91652359,79868076,83835542,63549729,19698165,19161584,34753106,51705603,19621975,79580848,58496564,99439640,65401945,17479067,97284625,69655337,39572538,34749446,99563731,24713689,59159332,15182441,91295084,55728464,33879094,47147376,65312704,98719891,88950172,88130816,37862196,34515470,57264584,99274323,47533175,53301939,26600970,15515328,73731548,68212068,13988581,32861984,85840163,76329768,52953168,91596704,81353326,98600216,65273498,65836969,54124140,22754665,19522598,71923639,23806089,94508564,36545533,78535286,72948526,23233708,59571444,58327618,25719328,32940098,37719151,46117160,69868263,27332077,84541679,89958820,39107128,84962312,37982624,87504115,52388028,75134559,46578153,31953685,49127906,78487232,31897617,62167829,79771402,37184646,73749108,15594764,81679980,64453633,93436624,63496574,39655582,63568158,38121667,31733338,33922462,79604950,91553953,54212444,86429464,12672079,54769586,66853764,56812566,67363729]))